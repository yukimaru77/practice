# 線形代数

## あるベクトルに垂直なベクトル

ベクトル$、b$を用いると$a$に垂直なベクトル$h$
は
$$
h=b-\frac{a}{|a|}|b|cosΘ=b-\frac{a \cdot b}{|a|^2}a
$$
となる。2次元なら垂直なベクトルは大きさを除けば一意に定まるので$b$は任意だがn次元の場合、同様に大きさを除けば$n-1$の任意性があるためこの公式を使うと一意に定まってしまう点に注意

## 直線のベクトル方程式

点Aを通る方向ベクトルdの方程式はそのまま
$$
p=OA+td
$$
である。OAが0ベクトルなら原点を通る。ここでtは媒介変数でありこの媒介変数を削除するには
$$
x=A_x+td_x、y=A_y+td_y、z=A_z++td_z
$$
より変形して
$$
\frac{x-A_x}{d_x}=\frac{y-A_y}{d_y}=\frac{z-A_z}{d_z}
$$
となる。

## 平面のベクトル方程式

点Aを通る方向ベクトル$d_1、d_2$の方程式はそのまま
$$
p=OA+t_1d_1+t_2d_2
$$
ここで$t_1、t_2$は媒介変数である。法線ベクトル$h$を用いて
$$
h\cdot \overrightarrow{Ap} =0
$$
より変形して
$$
\begin{aligned} 
&h_x(p_x-A_x)+h_y(p_y-A_y)+h_z(p_z-A_z) = 0\cr
&h_xp_x+h_yp_y+h_zp_z = d
\end{aligned} 
$$
ただし、$d=h_xA_x+h_yA_y+h_zA_z$となる。

## 転置行列の性質

$$
^t(AB)={^tB}{^tA}
$$
これは$i×j　j×k$の転置は中身を転置する方針の場合、$k×j　j×i$とするしかないので感覚的にも一致する。

## ブロック分割
0が固まってる場合は列ベクトルでブロック分割すると結構綺麗めになる。
$$
A = \begin{pmatrix} 
a_{11} & a_{12} & a_{13} \cr
a_{21} & a_{22} & a_{13} \cr
a_{31} & a_{32} & a_{33} 
\end{pmatrix}=\begin{pmatrix} 
x_{1} & x_{2} & x_{3} \cr
\end{pmatrix}
$$
のように列ベクトルでブロック分割を行う。例えばこの分割を用いると
$$
\begin{pmatrix} 
a_{11} & a_{12} & a_{13} \cr
a_{21} & a_{22} & a_{13} \cr
a_{31} & a_{32} & a_{33} 
\end{pmatrix}
\begin{pmatrix} 
λ_{1} & 0 & 0 \cr
0 & λ_2 & 0 \cr
0 & 0 & λ_{3} 
\end{pmatrix}=
\begin{pmatrix} 
λ_{1}x_{1} & λ_2x_{2} & λ_3x_{3} \cr
\end{pmatrix}
$$
のように簡単に表せたり
$$
\begin{pmatrix} 
a_{11} & a_{12} & a_{13} \cr
a_{21} & a_{22} & a_{13} \cr
a_{31} & a_{32} & a_{33} 
\end{pmatrix}
\begin{pmatrix} 
λ_{1} & 1 & 0 \cr
0 & λ_2 & 1 \cr
0 & 0 & λ_{3} 
\end{pmatrix}=
\begin{pmatrix} 
λ_{1}x_{1} & x_1+λ_2x_{2} & x_2+λ_3x_{3} \cr
\end{pmatrix}
$$
のように表せたりする。

## 逆行列、行列式

逆行列は余因子行列とか掃きだし法とかで求める。

行列式は余因子展開とかサラスとか。

## ケーリー・ハミルトンの定理

det(A-λI)=0とし、さらにλをAに置換したものは常に成り立つという定理。特に二次の時は
$$
det(A-λI)=A^2-tr(A)A+det(A)=0
$$
となる。ただし$tr(A)$とは$a_{ii}$を足したものである。ここで$det(A)=0$ならば、
$$
A^2=tr(A)A →A^n=(tr(A))^{n-1}A
$$

## ランク

拡大係数行列のランクが係数行列のランクより大きいなら解なしとなる。ランクは束縛度を表しこの数分だけ(本当に意味で)式がある数に一致する。つまり$未知数の数-ランク=変数の数$となる。

## 体

Kが体であるとは、Kに加法と乗法が定義され、さらにすべての公理を満たす集合を言う。
* 結合則の成立(a+b)+c=a+(b+c)
* 0元の存在
* a+b=b+a=0なるbの存在。ただしaとbはKの要素。ちなみにこのbを-aと表記し減法としている。
* (ab)c=a(bc)の成立。
* 単位元の存在。1a=a1=a
* ab=ba=1なるbの存在。ちなみにこのbを$a^{-1}$と表記する。aが0の時は除く
* ab=baの成立。交換側
* 分配法則の成立

例えば体になりうる集合は実数R、虚数C、有理数Qなど、、

## 線形空間(ベクトル空間)

Kを体とする。集合Vに加法が定義され、Kの元と集合Vによるスカラー倍が定義されているとする。$k_i\in{K}としa、b\in{V}$とする。
* (a+b)+c=a+(b+c)の成立
* a+b=b+aの成立
* a+0=0+a=a なる元0の存在
* a+x=x+a=0なる元xの存在
* 1a=aの成立
* $k_1(a+b)=k_1a+k_1b$の成立
* $(k_1+k_2)a=k_1a+k_2a$の成立
* $(k_1k_2)a=k_1(k_2a)$

を満たすとき、VをK上の線形空間やベクトル空間と言ったり、普通はKは実数全体のことが多いので、R上とつけたり単に __線形空間やベクトル空間__ という。

## 線形結合と線形独立

$a_i\in{V}、c_i\in{K}$とする。Vは線形空間(ベクトル空間)、Kは体である。
$$
\sum_{k=1}^{n}c_ia_i
$$
を$a_i$の線形結合と呼ぶ。ベクトルの集合$a_i$が線形結合とは
$$
\sum_{k=1}^{n}c_ia_i=0
$$
を満たす$c_i$が$c_i=0$しか存在しない場合、ベクトルの集合$a_i$が __線形独立__ という。あるベクトル空間の任意の元が __線形独立__ ベクトルの集合$\{v_k\}_{k=1}^{i=n}$で表せるとき、__ベクトルの集合$\{v_k\}_{k=1}^{i=n}$を基底と呼び、次元はnとなる。__

### ちょっとだけ例題

$$
a_1={^t}[1、2、-1]、a_2={^t}[2、3、1]、a_3={^t}[1、3、4]
$$
は線形独立か？
$$
[a_1、a_2、a_3]{^t}[c_1、c_2、c_3]={^t}[0、0、0]
$$
のランクを調べると3より自明解0、0、0のみ。よって線形独立。

## 部分空間

集合VをK上のベクトル空間とする。集合Wについて$W\in{V}$とする。$x,y\in{W}$とする。
$$
\begin{aligned} 
&x+y\in{W}\cr
&kx\in{W}
\end{aligned} 
$$
または同じ意味だが
$$
k_1x+k_2y\in{W}
$$
の時、WをVの部分空間という。なお、本当は(書籍 線形代数の世界より)上二つの条件のみだと空集合も部分空間となってしまうため、
$$
0\in{W}
$$
も満たすべきらしい。

ちなみに部分空間になるには例えば二次元平面なら0を通る直線しかない。3次元なら0を通る平面か直線。n次元でも同じ。集合WがV(n次元ベクトル空間)の部分空間になりたい場合、0を必ず含めないと部分空間になれないはず。多分。

### 部分空間の例

線形空間Vの$a_1、\cdots、a_k\in{V}$に対し、集合Wを
$$
W=\{x|x=c_1a_1+\cdots+c_ka_k、c_i\in{R}\}
$$
なる集合WはVの部分空間である。ここで、Wは$a_1、～、a_k$で"張られる空間"とよび、$a_1、\cdots、a_k$をWの生成元という。__生成元は線形独立でなくてもいい点に注意。__

## 線形写像、像(Imf)、核(Kerf)

$V=R^n$と$V'=R^m$とする。つまり線形空間である。$x、y\in{V}$とすると
$$
\begin{aligned} 
&f(x+y)=f(x)+f(y)\cr
&f(λx)=λf(x)
\end{aligned} 
$$
または
$$
f(λx+μy)=λf(x)+μf(y)
$$
を満たす時、fをVからV'への線形写像という。ちなみに$λ=μ=1$とすれば1式に帰着し$μ=0$とすれば2式に帰着するので証明する際はどちらを証明しても構わない。

先ほどの定義より、線形写像は
$$
\begin{aligned} 
&f(0)=0'\cr
&f(c_1x_1+\cdots+c_nx_n)=c_1f(x_1)+\cdots+c_nf(x_n)
\end{aligned} 
$$
となることもわかる。また、$Imf$は
$$
Imf=f(V)=\{f(x)|x\in{V}\}
$$
と定義される。つまり線形空間Vの任意の元xの線形写像の集合である。なお、$Imf$はV'の部分空間となる。証明は部分空間の定義より$λf(x_1)+μf(x_2)\in{V'}$を示せばよくそれは$λx_1+μx_2\in{V}$より示せる。核(Kerf)は
$$
Kerf=f^{-1}(0')=\{x\in{V}|f(x)=0'\}
$$
となる。$kerf$は$f(λx_1+μx_2)=0'$より$λx_1+μx_2\in{Kerf}$より部分空間である。

Vを$R^n$、V'を$R^m$とすると
$$
x_m=Ax_n
$$
で変換できる。Aはm×n行列である。この行列を表現行列という。

## kerfと商空間

線形写像V→V'が全単射(1対1対応)の時、同型写像と言いう。条件は
$$
dimV=dimV' ⇔VとV'が同型
$$

なお、$V=R^n、V'=R^n$でも次元が等しいとは限らないので注意。また、
$$
\begin{aligned} 
&dimV-dim(Kerf)=dim(Imf)\cr
&dim(Imf)=rankA
\end{aligned} 
$$

となる。線形写像fが全単射となる（逆写像が存在する）条件、全射になる条件、単射になる条件は
$$
\begin{aligned} 
&rankA=dimV ⇔ 単射\cr
&rankA=dimV' ⇔ 全射\cr
&rankA=dimV=dimV'
\end{aligned} 
$$
となる。

## 固有値と固有ベクトル

n次正方行列$\bold{A}$に対し、固有値$λ$と固有ベクトル$\bold{x}$を
$$
\bold{Ax}=λ\bold{x}
$$
を満たすものと定義する。固有値の計算方法は同じみの方法
$$
det(\bold{A}-λ\bold{E})=0
$$
を計算し$λ_i(i=1、2、\cdots)$を求め、各$λ_i$に対し、
$$
(\bold{A}-λ_i\bold{E})\bold{x}=0
$$
を満たす$\bold{x}$を求めることで固有ベクトルとなる。なお、
$$
\bold{A}-λ_i\bold{E}=\bold{T_i}
$$ 
とあらわすこともよくあるので注意。固有化は$λ_i$に __重解がない場合は対角化可能__ であり、仮にn次の重解があった場合その固有値を$λ_i$とすると、
$$
\bold{T_ix_i=0}
$$
を解くことで固有ベクトルが求まるわけだがここで、__自由度n__ ならば固有ベクトルがn個求まるので対角化可能。なお、自由度は$\bold{A}$をm次正方行列とすると、
$$
m-rank(\bold{T_i})
$$
と求まる。

## 計量線形空間、ノルム、なす角、直行基底

kを体とし、k上の線形空間Vに対し任意の元$\bold{a、b}$に対して、内積$(a\cdot b) \in{R}$が定まりかつ、
* $\bold{a\cdot b =b\cdot b}$
* $\bold{(a_1+a_2)\cdot b= a_1\cdot b+a_2\cdot b、a\cdot (b_1+b_2)=a\cdot b_1+a\cdot b_2}$
* $(k\bold{a})\cdot b=k(\bold{a\cdot b})、\bold{a}\cdot (k\bold{b})=k(\bold{a\cdot b})$
* $\bold{a\cdot a}\geqq 0$

を満たす時、線形空間Vを __計量線形空間または内積空間__ という。例えばVを$R^n$とし、$R^n$の任意の2つの元
$$
\bold{a}=
\begin{pmatrix} 
a_1 \cr 
a_2 \cr
\vdots \cr
a_n
\end{pmatrix}
、\bold{b}=
\begin{pmatrix} 
b_1 \cr 
b_2 \cr
\vdots \cr
b_n
\end{pmatrix}
$$
に対して、内積$\bold{a\cdot b}$を
$$
\bold{a\cdot b}=a_1b_1+a_2b_2+\cdots +a_nb_n
$$
とすると$R^n$は計量線形空間となる。

__ノルム__ とは計量線形空間Vの0でない2つの元$\bold{a}$に対して、
$$
\|\bold{a}\|=\sqrt{a\cdot a}
$$
で定義される。

__なす角__ とは計量線形空間Vの0でない2つの元$\bold{a、b}$に対して、
$$
cosΘ=\frac{\bold{a\cdot b}}{||a|| ||b||}
$$
で定義される。

n次元の計量線形空間Vを考えると、勿論n次元と言っているわけだから基底はn個あり、基底$\bold{u_i}$は
* $\bold{u_1、u_2、\dots 、u_n}$は線形独立
* Vの任意の元は$\bold{u_1、u_2、\dots 、u_n}$の線形結合で表せる。

を満たすわけだがさらに
$$
\bold{u_i\cdot u_j}=
\left\{
\begin{array}{l}
1(i=jの時) \\
0(i\neq jの時) 
\end{array}
\right.
$$
