# 集合論

## 集合とは

集合とはものの集まりのことである。ここでいう"ものとは論理的考察の対象となるものなら何でもよく、例えば数、点、関数、文字などがあげられる。ただし、数学における集合はものの __範囲がはっきりとしていなければならない。__

例えば、"大きい数の集まり"、"細長い三角形全体"、"美人全体"は集合ではない。

逆に"日本人全体"、"整数全体"などは集合である。

## 集合の表記方法

### 外延的記法

$$
\lbrace a,b,c,\cdots \rbrace 
$$

### 内包的記法

$$
\lbrace x | xの条件 \rbrace 
$$

このxの条件を __条件C__ といい、xにおける条件をC(x)と表記する。つまり

$$
\lbrace x | C(x) \rbrace 
$$

## 空集合

空集合は集合であって要素ではないので注意。つまり任意の集合Aに対し、
$$
\varnothing \subset A
$$
だが、集合Aに$\varnothing$を意図的に要素として入れない限り、
$$
\varnothing \in A
$$
とはならないので注意。これを頭に入れとかないと対応の定義域、値域の説明でつまずくので注意。

## 集合の演算

$$
A\cup B = \lbrace x | x\in A またはx\in B\rbrace 
$$
↑これを和集合という。とくにAとBが交わらない時AとBの直和という。

$$
A\cap B = \lbrace x | x\in A ,x\in B\rbrace 
$$
↑条件部分のコンマ「,」は"かつ"を表す。$A\cap B=\varnothing$の時、互いに素という。

$$
A-B = \lbrace x | x\in A ,x\notin B\rbrace 
$$

## 普遍集合と補集合

数学の理論において、その時考えている集合はすべて1つの定まった集合Xの部分集合であるとわかっているケースが多い。この集合Xを考察における普遍集合という。

集合Aに対し、$X-A$を集合Aの補集合$A^c$という。

## 集合系(本によっては集合族)

元がすべて集合の集合を集合系という。元の集合と区別するためにしばしばドイツ大文字(特にベキ集合)が使われる。($\mathfrak{P}(A)$)

集合族とは別の概念であるが混同される場合も多い。

## ベキ集合

集合Aに考えられるすべての部分集合の集合(つまり部分集合の集合系)をベキ集合という。すべての要素の含む/含まないの組み合わせになるのでAの要素数をnとするとベキ集合は$2^n$個の要素になる。

## 順序対と直積

二つのものa,bから作られた対(a,b)を順次対という。ただし、順次対は以下の性質を満たさなければならない。

$$
(a,b)=(a',b') ならば a=a'、b=b'
$$

AとBの元が作る順序対全体の作る集合をAとBの直積と言いその集合を$A×B$とあらわす。

$R×R$の元(x,y)はデカルト座標を設けた平面上の恬としてあらわされることがよくある。これは$R×R$の幾何学的複写である。(幾何学的な映像を与える。)

## 対応

始めに断っておくが、"対応"とは"写像"とは別なので注意。

### 対応

A,Bを2つの集合とする。Aの各元aを1つずつBの __部分集合__ を対応させる規則を対応fという。(もちろん空集合もBの部分集合なことに注意。つまり実質的にAの元がBの元に対応しない(空集合)が許されるのが"対応")

### 像

元aに対して定まる部分集合$b=f(a)\subset B$をaのfによる像という。

### 始集合、終集合

Aを始集合といい、Bを終集合という。

### 二項関係

直積に対し満たすか満たさないかの規則を二項関係という("関係"の説明の部分でもう一度触れるので流してもok)。例えば
$$
2x=3y
$$
が与えられたとき(3,2)は満たすが(1,1)は満たさない。

### グラフ

直積$f:A×B$の部分集合をfのグラフG(f)という。
$$
G(f) = \lbrace (a,b)|a\in A,b\in f(a)\rbrace 
$$
定義より同じaに対し(a,b)、(a,b')、(a,b'')などのように無数に存在が許される点にも注意。直積$f:A×B$はすべての(a,b)の組み合わせなのでまあ、これは納得。ただし、"対応"は部分集合を対応先としているので、"線"がグラフなのではなく、閉曲線の面積そのものがグラフになるので注意。

### 定義域、値域

$(a,b)\in Gとなるb\in B$が存在するようなAの元a全体の __集合__ をGの __定義域__  という。開区間や閉区間は集合の特別な場合に過ぎない。グラフの定義より$(a,b)\in Gとなるb\in B$が存在するには$f(a)\neq \varnothing$となるのと等しいので
$$f(a)\neq \varnothingとなるa全体の集合$$
を定義域としても正しい。定義域をD(G)とすると
$$
D(G)=\lbrace a|\exists b\quad S.T.((a,b)\in G)\rbrace 
$$
となる。同様に値域V(G)は
$$
V(G)=\lbrace b|\exists a\quad S.T.((a,b)\in G)\rbrace 
$$

![画像がなかった時の代替テキスト](https://yukimaru77.github.io/practice/集合論/定義域値域.jpg)

画像は松坂より引用。

## 写像

### 写像

A→Bの"対応"のうち、任意のaに対し、f(a)がBのただ一つの元で構成される部分集合になる場合fを __写像__ という。つまり、$f(a)=\varnothing$ となるaがある場合は写像ではないし$f(a)=\lbrace b_1,b_2\rbrace $ｔなるaがある場合も写像ではない。常に1対1または多体1対応でなければならない。よって定義域はAそのものになる点も注意。

つまり微分積分学などの1価関数と等しい。

### 像

元aに対して定まる"元b"($b=f(a)$)をaのfによる像という。bは集合であったが、写像の定義より1つの元による集合になるため{}は省くことになっている。

### 写像の拡大、縮小

$f:A→B、f':A'→B$とし、$A \subset {A'}$とする。$a\in A$に対し、
$$
f(a)=f'(a)
$$
ならばAに定義域を縮小した写像、または単に縮小した写像という。逆の場合は拡大となる。


### 写像の終集合の厳密性

本来写像(対応)は定義域(対応なら始集合)と終集合が定義されて初めて写像及び対応を名乗ることができる。逆に写像が等しいとは規則だけでなく始集合と終集合も等しくて初めて同じ写像ということができる。しかし終集合は図のように値域V(G)を含む集合ならなんでもいいため無数に存在する。これらの写像f及びf'は違う写像だが常にf(a)=f'(a)のため本質的には同じととることもできる、よって終集合は値域を含む集合であれば気にしないという立場をとる場合もある。

![画像がなかった時の代替テキスト](https://yukimaru77.github.io/practice/集合論/終域の厳密性.jpg)

## 包括写像と恒等写像

$$
i:A→B \quad i(a)=a
$$
の写像iを包括写像という。必然的に$A \subset B$となる。特にA=Bの時
$$
1_A:A→A \quad 1_A(a)=a
$$
と書いて写像$1_A$を恒等写像という。

## 逆写像

$(f\circ g)(a) =f(g(a)) = 1_A(a)$ならば写像fとgは全単射であり、さらにg(またはf)はf(またはg)の逆写像であるという。

## 単射、全射、全単射

### 単射

$a_1\neq a_2$ならば$f(a_1)\neq f(a_2)$の時、fは単射であるという。つまり

### 全射

Bの任意の元bに対し、$b=f(a)$なるaが存在するならば、fは全射という。

### 全単射

単射かつ全射の場合、fを全単射といい、一対一対応という。

## 数列、元の族、集合族

### 数列とは

(実数の)数列とは高校数学では数を並べたものとして扱ってきた。例えば
$$
1 \quad 4 \quad 9 \quad 16 \cdots 
$$

ここで自然数の集合体Nを考える。写像$γ:N→R$を考え、
$$
γ(n)=n^2
$$
とすればその写像した要素は数列そのものである。よって数列とはNからRの写像ととらえることが出来る。像a(n)を通常$a_n$と書き、 __写像aを__

$$
\begin{aligned} 
& a_1,a_2,\cdots ,a_n, \cdots \cr
&(a_n | n \in N)、(a_n)_{n\in N}
\end{aligned} 
$$
などと書く。つまり$(a_n)_{n\in N}$は __写像のこと__ である。像$a_n$を集めたもの、つまり値域は$\lbrace a_n\rbrace _{n\in N}$などと書くがこれ自体を数列$(a_n)_{n\in N}$と見る書物もよくある。が正確には間違えである。例えば
$$
(-1^n)_{n\in N}
$$
の値域は2元のみなので
$$
\lbrace 1,-1\rbrace
$$
となるので明確な違いがあるのは明らかだろう。

 __写像が等しいこと=数列が等しい__ なので順番にも意味がある。A,B,CとB,A,Cは違う列である。

### 元の族

Nを一般的なものに拡張しΛとしたものは$a(λ)=a_λ$と元を表記し、写像aを
$$
(a_λ | λ \in Λ)、(a_λ)_{λ\in Λ}
$$
などと表記する。 $(a_λ)_{λ\in Λ}$ __をAの元の族__ という。つまり元の族とは写像aのことを指す。Λを添付集合という。λが添数である。

### 族

族とは添字付けされた元の集合である。系と呼ばれることもある。元によっては点族、集合族（集合系）、関数族などの別名がつくこともある。

### 集合族

添付集合はγ:Λ→Aへの"写像"だったが、集合族はγ:Λ→Aへの"対応"としたもののことを言う。つまり像が(Aの部分)集合であり、値域は集合系になることに注意。小文字は元、大文字は集合という意味合いが通常あるので
$$
(A_λ | λ \in Λ)、(A_λ)_{λ\in Λ}
$$
などのように集合族は定義される。

すべての像が集合Xの部分集合の場合、つまり$A_λ\subset X$の場合、$(A_λ)_{λ\in Λ}$をXの部分集合族という。

## (族の)和集合、共通部分

$$
\bigcup _ {λ \in Λ} A_λ:=\lbrace x|\exists λ\in Λ \quad S.T.\quad x\in A_λ \rbrace
$$
これを(族の)和集合という。要は$A_1 \cup A_2 \cup \cdots$である。

族の共通部分は$A_1 \cap A_2 \cap \cdots$となる。

## 一般の直積

一般の直積$\prod _{λ\in Λ} A_λ=A_1×A_2×\cdots ×A_n$は
$$
\prod _{λ\in Λ} A_λ = \lbrace a|a:Λ→\bigcup _ {λ \in Λ} A_λ \quad a:=(\existsλ\in Λ,a(λ):=a_λ\in A_λ)\rbrace
$$
と定義される。写像aの集合な事に注意。以下に具体例を添付する。

![画像がなかった時の代替テキスト](https://yukimaru77.github.io/practice/集合論/一般の直積.jpg)

## 多変数関数

本当はf(x,y,z)ではなく、f((x,y,z))である。算法(演算ともいう)も多変数関数を略した記号である。

## 関係

1変数に対し"条件C"を定義し集合を
$$
\lbrace x | C(x) \rbrace 
$$

と表記したように、n変数の関係を"関係R"と表記する。例えば

$$
関係R(x,y,z): x,y,zは実数でx^2+y^2=2zである。
$$

みたいな感じ。各変数には、その変数に代入できることのできるもの全体からなる集合 __変域__ が定まっている。あくまで代入出来るだけであって、関係Rを満たすかはわからない。よって先ほどの関係R(x,y,z)のx,y,zそれぞれの変域はすべて実数全体である。

数学において
$$
R(x,y) (x,yの変域はともにA)
$$
を考えることはとても多いため、通常R(x,y)と書いたらx,yの変域は集合Aとする。またR(x,y)をA上の関係Rと表記することもある。(x,y)が関係Rを満たすときそれを __xRy__ と表記し、Rを __二項関係__ と呼ぶ。

### 関係R(x,y)のグラフ

$$
G(R)= \lbrace (x,y)|x\in A,y\in A,xRy \rbrace 
$$

個の集合のことを関係R(x,y)のグラフという。これを見れば分かるように関係R(x,y)の定義と対応f:A→Aの定義は数学的に同等である。

$$
\begin{aligned} 
&A上のRを定める \cr
\Longleftrightarrow & A×Aの部分集合Gを定める \cr
\Longleftrightarrow & 対応f:A→Aを定める。
\end{aligned} 
$$

## 同値関係

相等関係「=」は左辺と右辺が完全に等しい事を表す記号である。しかし、この条件は厳しいものであるので本質的に同じ物を同値関係(相似とか2を法にしたら同じとか)としたい場合が出てくる。これを定義したのが同値関係である。

集合Aにおける関係Rが __RはRはAにおける同値関係___ であるとは

$$
\begin{aligned} 
&(1) Aのすべての元aに対してaRa \cr
&(2) Aの元a,bに対しaRb \Longrightarrow bRa \cr
&(3) Aの元a,b,cに対しaRb,bRc \Longrightarrow aRc \cr
\end{aligned} 
$$

を満たす時を言う。これらをそれぞれ反射律、対称律、推移律という。

## 写像fに付随する同値関係R(f)

$$
写像f:A→B
$$

に対し二項関係Rを
$$
R(x,y): f(x)=f(y)
$$

とする。するとこのRはRはAにおける同値関係になる。これを写像fに付随する同値関係R(f)という。

## 直和分割$\mathfrak{M}$に付随する同値関係

集合Aとその部分集合系($\mathfrak{M}$←ドイツ語のM)について(部分集合系とはAの冪集合の部分集合)$\mathfrak{M}$はAの直和とする。すなわち$\mathfrak{M}$は
$$
\begin{aligned} 
&(1)\bigcup \mathfrak{M} =A \cr
&(2) C,C'\in \mathfrak{M} ; C\neq C'\Longrightarrow C \cap C'=\varnothing  
\end{aligned} 
$$
を満たすとする。その時の関係Rを
$$
a,b\in A、C,C'\in \mathfrak{M}
$$

$$
aRb \Longleftrightarrow a\in C,b\in C',C=C'
$$

とするとき、このRを直和分割$\mathfrak{M}$に付随する同値関係という。

ここで __重要なのは直和分割$\mathfrak{M}$を定義するとそれに付随する同値関係Rを定義できるということである。__

$$
直和分割\mathfrak{M} \Longrightarrow 同値関係R
$$

## 同値類

先ほどは$直和分割\mathfrak{M} \Longrightarrow 同値関係R$であったが今度は同値関係Rから出発して直和分割$\mathfrak{M}$を定義できないか考える。

Rを(A上の)同値関係とする。ここで$a\in A$に対し、集合$C_R(a)$またはRを省略して$C(a)$を

$$
C(a)= \lbrace x|x\in A,aRx \rbrace 
$$

と定義する。つまり代表値aに対し、同値関係な値の集合がC(a)である。すると以下の定理が成り立つ。

$$
\begin{aligned} 
&(1) a\in C(A)\cr
&(2) aRb \Longrightarrow C(a)=C(b) \cr
&(3) C(a) \neq C(b) \Longrightarrow C(a)\cap C(b)=\varnothing
\end{aligned} 
$$

(1)はまあ自明だろう。(2)は代表値を同じ集合内のものと変えても変わらないと言っている。(2)の対偶を取れば
$$
C(a)\neq C(b) \Longrightarrow aRbではない(=aとbは同値関係でない。)
$$

となり、(3)はaとbが同値関係でないならそれを代表値とした集合(=代表値は変えてもokなのでaとbを含む集合でもok)は交わらないと言っている。直和になりそうな雰囲気がもうすごい。

この$C(a)$を __Rによるaの同値類__ という。また、$C(a)$と一致するようなAの部分集合を __Rによる同値類__ という。

## 商集合

集合$\mathfrak{M}$を
$$
\mathfrak{M}=\lbrace  Rによる同値類の集合\rbrace 
$$

とする。するとこれはAの直和分割になっている。このようにAにおける同値関係Rから$\mathfrak{M}$を作る事(=Aを同値類に分解する事)をAのRによる類別といい、同値類全体の集合を$\mathfrak{M}$をAのRによる商集合という。これを$A/R$とも表す。Aの分類して分割していくイメージなので商集合という名前も納得だろう。

具体例

aRbをa=bとすればもっとも細かい、ある全ての元1つからなる直和分割が出来る。

aRbをすべての任意の元a,bで成り立つとすればもっとも粗い、集合A自身を要素に持つ直和分割が出来る。

Aを整数の集合Zとし、正を正の整数とする。aRbを$a\equiv b(mod n)$とする。すると集合Zは
$$
Z/R=Z/(\equiv(mod n))=\lbrace C(0)、C(1)、C(2)、\cdots 、C(n-1)\rbrace
$$

と直和分割が出来る。

## AからA/Rへの標準的写像

AからRによるAの商集合への写像Φを
$$
Φ:A→A/R \quad f(a)=C(a)
$$
とする。するとΦは全射となる。さらに
$$
Φ(a)=Φ(b) \Longleftrightarrow aRb
$$

なので、これは写像Φに付随する同値関係Rとも考えられる。

## 写像の分解

写像f:A→Bに対し、fに付随する同値関係R(f)を考える。つまり

$$
f(a)=f(a') \Longleftrightarrow aRa'
$$

よってA/Rが定義できる。さらに標準的写像Φ:A→A/Rを考える。つまり

$$
Φ(a)=Φ(a') \Longleftrightarrow aRa'
$$

である。よって

$$
f(a)=f(a') \Longleftrightarrow Φ(a)=Φ(a') 
$$

である。よってA/Rの各元Φ(a)に対しBの元f(a)は一意的に定まる。よって写像g'をg':A/R→Bを考える。ただし、
$$
g':A/R→B\quad Φ(a)をf(a)に対応させる写像
$$
とすれば明らかに単写になる。さらに値域V(f)を用いて写像gを考える。ただし終集合以外はg'と等しいとする。つまり

$$
g:A/R→V(f)\quad Φ(a)をf(a)に対応させる写像
$$

となりgは明らかに全単射。さらに標準的単写j:V(f)→Bを考える。つまり

$$
j:V(f)→B \quad j(f(a))=f(a)
$$

となりjは明らかに単射。以上を図にすると以下のようになり、写像fは
$$
f=j \circ g \circ Φ
$$
と分解できた。

![画像がなかった時の代替テキスト](https://yukimaru77.github.io/practice/集合論/写像分解.jpg)

## 写像の分解の性質

fが全射